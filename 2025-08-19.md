🧬 实习日志 第24天｜BAM索引生成 + 文件打包下载 + IGV准备
**日期：2025年8月19日**
**地点：首都医科大学生信实验室，服务器终端（MobaXterm）**

---

💡 今日完成的工作：

**1. BAM索引生成与检查**

* 对昨天生成的两个大体量 BAM 文件（约 35G 与 38G）进行了 `samtools index` 处理，成功生成对应的 `.bai` 索引文件；
* 确认索引文件大小约为 8.6M，符合 BAM 大文件常见的索引体量预期，说明生成过程正常；
* 使用 `ls -lh` 和 `less` 检查文件完整性，未发现异常。

**2. 区域提取与拼接文件整理**

* 将 `zzq.region_*.fq` 与 `zzq2.region_*.fq` 分别合并为 `all.region_1.fq` 和 `all.region_2.fq`；
* 成功运行 SPAdes，在 `spades_out/` 文件夹下生成了 `contigs.fasta`，用于后续拼接序列分析。

**3. 文件打包与下载准备**

* 按需求整理了用于 IGV 的关键文件，包括 BAM、BAI、参考基因组及其索引、拼接结果 `contigs.fasta`；
* 学习并实践了 `scp` 文件下载命令，已成功将上述文件传输到本地 Mac 端，准备明天在 IGV 中进行可视化分析。

---

📚 工作总结：

**技术能力提升方面**

* 熟悉了 BAM 与 BAI 文件的关系及检查方法，理解索引在快速定位比对结果中的关键作用；
* 掌握了使用 `scp` 批量下载服务器文件的操作，体会到文件传输与本地可视化之间的衔接流程；
* 熟悉了 SPAdes 的基本调用方式和输出结构，为今后拼接相关任务打下基础。

**科研流程意识**

* 今天的工作是昨天比对流程的延续，逐渐形成“比对 → 索引 → 区域提取 → 拼接 → 下载 → 可视化”的完整链路；
* 对数据从原始测序文件到本地分析软件可用结果的路径有了更直观的理解；
* 今天还额外阅读了大量的reddit，提升了英语阅读能力。

---

❗ 当前存在的问题：

* 对 SPAdes 输出的 `contigs.fasta` 如何结合 BAM 文件在 IGV 中进行比对和可视化，还缺乏深入思考；
* `scp` 在批量下载时仍依赖多条命令，效率不高，后续需要学习打包压缩 (`tar.gz`) + 单次传输的方法；
* 文件体量过大（>30G）导致传输和存储压力明显，需要更系统的数据管理策略。

---

🎯 明天计划：

* 在 IGV 中加载 BAM、BAI、FASTA 文件，初步完成可视化检查；
* 学习如何在 IGV 中对比拼接结果与参考基因组的差异，验证 contigs 的位置和可靠性；
* 尝试压缩打包下载流程，提升大文件传输效率；
* 继续补充 IGV 使用手册与可视化解读的学习笔记。
