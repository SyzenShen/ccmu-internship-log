## 🧬 实习日志 第7天| ：FASTQ数据清洗 + BWA比对排查 + 小程序构想准备

**日期**：2025年7月16日
**地点**：首都医科大学生信实验室，服务器终端（MobaXterm）

---

### 💡 今日完成的工作：

1. **FASTQ文件清洗流程调试**

   * 针对两个60GB大小的病人测序文件（`zzq_1.fq.gz` 和 `zzq_2.fq.gz`）使用`seqkit`进行数据清洗。
   * 初步使用单线程方式运行，清洗耗时较长，后经分析确认可通过“**多线程+分片并行**”方案显著提速。
   * 排查发现前一次清洗结果导致的**FASTQ格式损坏**是后续比对结果为空（比对率为0）的根本原因，已完成格式修复并重新清洗数据。

2. **BWA比对失败原因定位**

   * 使用清洗后的FASTQ数据重新进行 BWA 比对。
   * 发现之前出现 SAM 文件为空的原因并非索引或参考基因组问题，而是由于输入文件格式错误（如行数不为4的倍数）。
   * 经过修正后比对任务能够正常进行。

3. **服务器环境配置 & 医疗小程序构想**

   * 初步设想利用 GPT API 搭建一个医学相关的小型交互式程序，已着手准备开发环境。
   * 目前完成了 API 访问方式的梳理，确定采用自定义 prompt 编写形式，计划结合实际医学内容展开功能实现。

---

### 🔧 技术要点回顾：

* `seqkit` 使用 `-m` 和 `grep -nv` 可高效过滤短序列和含N序列；
* 单线程处理大文件（>60GB）效率极低，应优先采用 `-j` 多线程；
* FASTQ 清洗必须保证每条 read 包含完整的4行结构；
* `bwa mem` 比对前，数据格式完整性检查至关重要；
* shell 脚本组合 `seqkit + 分片 + 多线程` 可极大提升大规模数据处理效率。

---

### 🧠 今日收获：

* 更熟练的使用markdown格式进行文字编写；
* 搞清楚了fastq的安装流程；
* 对文件清洗的流程更加掌握；
* 对Linux的指令使用更熟练，任务监控能力有提示；
* 对微软服务器的使用有了新的构思。

---

### 🧠 明日计划预告：

* 正式进行清洗后数据的比对任务及比对率分析；
* 搭建 GPT 小程序的基本框架，测试前端到 API 通路；
* 完善Linux教程；
* 继续整理清洗与比对流程，为撰写流程性文档做准备。
