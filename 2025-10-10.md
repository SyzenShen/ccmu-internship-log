🧬 **实习日志 第42天｜系统功能梳理与问题定位**

**日期：2025年10月10日**
**地点：首都医科大学生信实验室 / 本地 Mac + VS Code + Terminal + AiPy**

---

💡 **今日完成的工作：**

1. **成功启动了前后端项目**

   * 后端 Django 服务可在 `http://127.0.0.1:8000/` 正常运行，系统检查通过。
   * 前端 Vite + Vue 界面能在 `http://localhost:5173/` 打开，页面样式加载正常。
   * 初步确认了前端和后端的端口分离结构，后续需要通过 API 进行通信。

2. **测试了前后端连接状况**

   * 登录页面可正常显示，但在输入账号密码后浏览器控制台报错。
   * 报错信息显示前端请求 `http://localhost:8000/api/auth/login/` 时返回失败，说明后端认证接口还未实现。
   * 进一步验证 `python manage.py createsuperuser` 命令，系统提示 “Unknown command”，确定后端认证系统模块尚未配置。

3. **总结当前系统整体状况**

   * 前端部分（UI与登录界面）结构清晰、交互流畅；
   * 后端部分（用户、文件管理）几乎为空，只有最基础的 Django 框架；
   * 缺少用户认证、文件上传下载、权限控制等关键功能。

---

📚 **今日学到 / 体会到的点：**

* 即使界面已经“能跑起来”，系统能否真正“工作”关键在后端逻辑。
* Django 的认证系统必须包含 `django.contrib.auth` 和相关配置，否则 `createsuperuser`、`login`、`logout` 等命令都会消失。
* 前端在开发模式下的跨域请求（端口5173 → 8000）需要后端允许 CORS，否则登录接口会无法访问。
* 通过查看浏览器控制台和后端终端日志，可以快速判断是接口未实现还是请求被拦截。

---

❗ **当前存在的问题 / 待办（按优先级）**

1. **（最高优先）** 启用并配置 Django 内置用户系统

   * 在 `settings.py` 中添加 `django.contrib.auth`、`django.contrib.contenttypes`；
   * 重新迁移数据库，验证 `createsuperuser` 命令能正常使用。

2. **实现基础的用户注册 / 登录 API**

   * 临时使用 Django REST Framework + SimpleJWT；
   * 完成 `/api/auth/register/` 与 `/api/auth/login/` 两个接口并测试返回 token。

3. **完善文件管理功能框架**

   * 创建 `File` 模型，包含文件名、路径、上传者（外键到 User）。
   * 编写基本的文件上传 / 下载接口，保证文件和用户绑定。

4. **CORS 配置与前后端联调**

   * 在后端添加 `django-cors-headers`，临时开放前端地址。
   * 确保登录请求能成功返回 token 并被前端保存。

5. **文档更新**

   * 在 README 中补充环境依赖、迁移步骤、创建 superuser 方法。
   * 简要记录系统结构和运行流程，方便后续维护。

---

🎯 **明日计划（可执行项）**

1. 在后端完成 `createsuperuser` 测试，确认用户模型正常工作。
2. 使用 DRF + SimpleJWT 实现基础登录注册接口，并通过 Postman 验证登录返回 token。
3. 前端配置登录接口的真实地址，并在登录成功后跳转到主页面。
4. 新建 `File` 模型及迁移，初步实现文件上传接口逻辑。
5. 编写今日进展说明，准备向老师汇报系统现状和下一步开发方向。
