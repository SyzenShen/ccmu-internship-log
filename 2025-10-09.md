🧬 实习日志 第41天｜代码克隆与初步运行验证

**日期：2025年10月09日**
**地点：首都医科大学生信实验室 / 本地 Mac + VS Code + Terminal + TRAE**

---

💡 **今日完成的工作：**

1. 收到老师布置的完整任务（基于 Django + 前端 的文件管理系统），并把相关仓库克隆到本地进行验证。

   * 使用 `git clone` 将老师/示例仓库下载到本地工作目录。
   * 在本地创建并激活虚拟环境，安装了后端依赖（基于项目已有的 requirements 或手动安装了 `django`、`djangorestframework` 等用于调试的包）。

2. 能在本地启动后端服务并测试上传/下载接口的基本功能。

   * 运行了 Django 开发服务器（`python manage.py runserver`），通过浏览器或 curl 验证了上传与下载的基本流程（文件能被接收并存到 MEDIA 目录，能通过后端接口下载）。

3. 浏览并梳理了项目结构，确认了关键模块位置（`models.py`、`views.py`、`urls.py`、`templates/` 等），对各文件的职责有初步理解。

   * 发现项目中有两个相关 app（fileupload、filedownload），并能定位到用于渲染页面的模板文件（如 `upload.html`、`file_list.html`、`download_list.html`）。

4. 记录了遇到的几点关键未知/问题点，便于后续解决：

   * 还没完全搞清楚项目当前的认证/用户管理方案，登录功能尚未集成（后端没有注册/登录 API 或前端尚未对接）。
   * 前端页面样式和交互需要微调（目前是基本的模板渲染，未接入 Vue3 单页应用或动态路由）。
   * 部分 README / 配置缺少环境变量说明（例如 SECRET_KEY、MEDIA_ROOT、前端 base URL 等），需要补充。

---

📚 **今日学到/体会到的点（针对初学者）**

* 把一个别人写的 Django 项目拉下来并跑通，首先要确认的几件事：虚拟环境、依赖、数据库迁移（`makemigrations`、`migrate`）、以及 `MEDIA_ROOT` 是否存在。
* 模板 + 视图 + 路由 是 Django 展示页面的主线：浏览器发请求 → `urls.py` 路由到 `views.py` → `views` 获取/保存 `models` 数据 → 用 `templates` 渲染页面或返回文件响应。
* 上传文件的保存位置由 `settings.py` 的 `MEDIA_ROOT` 决定；下载时要注意权限校验（以后需要把文件和用户绑定，避免越权）。

---

❗ **当前存在的问题 / 待办（优先级排序）**

1. **优先**：实现用户注册/登录（后端 + 前端对接），确保每个用户只能看到/下载自己的文件。
2. **优先**：补全 README / 项目说明，写明如何设置环境变量、如何运行迁移、如何创建 superuser。
3. 在前端引入 Vue3 或完善现有模板，做页面的交互和样式微调（上传进度、文件列表刷新、登录状态控制）。
4. 对上传文件做基本校验（类型/大小）并确认 `MEDIA_ROOT` 的物理路径与权限。
5. （中期）考虑把文件存储抽象化，为日后切换到 S3 等对象存储做准备。

---

🎯 **明日计划（可执行项）**

1. 在后端添加并测试一个最简的注册接口与登录（SimpleJWT 或 djoser 方案），验证 token 能用于访问受保护的文件接口。
2. 在 `models.py` 中给文件模型添加 `owner` 字段（ForeignKey 到 User），把上传保存逻辑改为 `owner = request.user` 并执行迁移。
3. 在前端模板中临时加入一个简单的登录表单（或先用 curl/postman 测试 token），完成从登录到上传的完整流程验证。
4. 把今天遇到的配置缺失记录进 README 的草稿，准备提交一个补充说明（包含必须的环境变量和运行命令）。
